<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>(dragsubil&#39;s blog): Ordovim or: How to half ass something with (predictably) crappy results</title>
    <link rel="canonical" href="http://dragsubil.github.io/posts/2016-12-04-ordovim/">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="icon" 
      type="image/png" 
      href="/img/favicon.png"> 
    <link href="/css/screen.css" rel="stylesheet" type="text/css" />
</head>
<body>


<nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">(dragsubil&#39;s blog) 
            <span class = "subtitle">(WTF is this color scheme?)</span></a>

        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li
                ><a href="/archives/">Archives</a></li>
                
                <li
                >
                <a href="/pages/about/">About</a>
                </li>
                
                <li><a href="/feed.xml">RSS</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                        Other Stuff <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li class="dropdown-header">Links</li>
                        
                        <li><a href="/pages/p5js-sketches/">p5.js Sketches</a></li>
                        

                    </ul>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
</nav>


<div class="container">


    <div class="row">
        <div class="col-lg-9">
            <div id="content">
                
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">

        
    </div>
    <h2>Ordovim or: How to half ass something with (predictably) crappy results</h2>
   <div id="postdate">Sunday, 4 December, 2016</div>
</div>
<div id="postcontent">
    
    <p>I <em>love</em> Neal Stephenson's books. He is the God Uncle of cyberpunk (the God<em>father</em> of cyberpunk is, of course, William Gibson). One of Stephenson's doorstoppers is Cryptonomicon, a MASSIVE, 1100+ page monstrosity jam packed with everything you could want in a historical fiction/sorta cyberpunk novel. It's got action, World War II code breaking, guest appearances by Alan Turing, digressions on cryptography, a few predictions about the future (internet banking being one of them. Remember, it was published in 1999) and a ton of other things I can't remember. It even had graphs. <em>GRAPHS</em> for duck's sake.</p><p>Anyway, one of the things I remembered reading about in the book is Ordoemacs. Ordoemacs is <em>the</em> text editor for the paranoid. Everything written in Ordoemacs is automatically encrypted when written to disk. At least, that's how I remembered it. So I wanted to do something similar, but in Vim. Thus, Ordovim.</p><p>(See that 'half ass' in the title? Start counting them).</p><p>Writing a text editor from scratch is hard, really hard. Especially one with as much power as Vim. So I chose not to bother. A Vim plugin would've been easier. (This was my first, but understandable and sane, half ass. I'm nothing if not pragmatic).</p><p>"But I have to learn Vimscript to write a plugin. And Vimscript is <em>stoopid</em>! Ugh!", I whined internally. Vimscript is powerful, no doubt! I mean, just look at all the <a href='http://vimawesome.com/'>plugins</a> available. They're pretty rad. But my lazy bum didn't want to take the time to sit down and fully learn this kinda ugly language (<a href='http://spacemacs.org/'>Spacemacs</a> and Elisp's distant siren song isn't helping either). So I decided to learn just enough to help me write this thing. But I soon found out plugins require a greater investment in time and learning  than I was inclined to give. So I reduced the requirement from a plugin to a function and a couple of autocommands. (This was my second half ass. Seeing a trend?).</p><p>"But you couldn't possibly do proper encryption with a single function." I hear you say. And you're right. Also I knew diddly squat about cryptography. Still don't, unless you call importing and using a Python library as sufficient cryptographic expertise. And that's exactly what I did. <a href='https://github.com/andrewcooke/simple-crypt'>Simple Crypt</a> is a wrapper around a much more complex and powerful Python library called <a href='https://www.dlitz.net/software/pycrypto/'>PyCrypto</a>. It's a kiddie fence created to protect knuckleheads like me from hurting myself trying  to climb the metaphorical jungle gym. It is dead simple to use. And gave me an easy way out from having to actually learn some cryptography.</p><pre><code class="python">from simplecrypt import encrypt, decrypt

plain&#95;string = &quot;This do be a string. Fortune prick me if it is not&quot;
password = &quot;yourpassword&quot;

encrypted&#95;string = encrypt&#40;password, plain&#95;string.encode&#40;'UTF-8'&#41;&#41;
decrypted&#95;string = decrypt&#40;password, encrypted&#95;string.decode&#40;'UTF-8'&#41;&#41;
</code></pre><p>It is literally that easy to use. I needed to do nothing else. Ask me what SHA1 stands for and you'll just get a blank stare. I wrote a dead simple python script with an easy to use encryption library and added a few lines to my vimrc to call that script whenever I opened a file with the extension <code>.ordo.enc</code> (to decrypt it) or closed a file with the extension <code>.ordo</code> (to encrypt it). (Half ass numero tr√®s).</p><p>The end result? It's... working? Sort of? Opening an encrypted file automatically decrypts it. But half asses strike back! You can't close the file or delete the buffer and expect that it will encrypt. Whichever buffer your '*.ordo' file is, only the file in the current buffer gets encrypted. You have to switch to the buffer of the file you want to encrypt before closing it. But hey! It's working. Right?</p><p>"Well that was a fun project!", I thought in my elation upon completion. "Not half bad!" You know how children can sit in a cardboard box and pretend they're piloting a spaceship. That was me, thinking I'd just made a working clone of Ordoemacs with some tape and a couple of screws. A true MacGyver is me. And so in the spirit of things, I decided to read that part in Cryptonomicon where they talk about Ordoemacs again.</p><p>Recall that I mentioned at the beginning this phrase: 'Alteast, that's how I <em>remembered</em> it.' See that added emphasis on 'remembered'? Yeah. I've been going by memory all this time about how Ordoemacs actually worked. I hadn't opened that book in quite a while. Here's the quote from the book:</p><blockquote><p> OrdoEmacs, on the other hand, works exactly like regular Emacs, except that it encrypts everything before writing it out to disk. At no time is plaintext ever laid down on a disk by OrdoEmacs&ndash;the only place it exists in its plain, readable form is in the pixels on the screen, and in the volatile RAM of the computer, whence it vanishes the moment power is shut down. Not only that, but it's coupled to a screensaver that uses the little built-in CCD camera in the laptop to check to see if you are actually there. It can't recognize your face, but it can tell whether or not a vaguely human-shaped form is sitting in front of it, and if that vaguely human-shaped form goes away, even for a fraction of a second, it will drop into a screen-saver that will blank the display and freeze the machine until such time as you type in a password, or biometrically verify your identity through voice recognition. </p></blockquote><p>Oh.</p><p>That's.. well.. that's definitely not what I created.</p><p>Here was my biggest half ass of them all. My halfiest ass, if you will. I never bothered to look at what Ordoemacs actually did before I set out to write "Ordovim". Let's look at them one at a time.</p><blockquote><p> the only place it exists in its plain, readable form is in the pixels on the screen, and in the volatile RAM of the computer </p></blockquote><p>Yeah, no. My "Ordovim" actually writes to disc first before encrypting and deleting the old plaintext file (which can easily be recovered).</p><blockquote><p> coupled to a screensaver </p></blockquote><p>Nope.</p><blockquote><p> uses the little built-in CCD camera in the laptop to check to see if you are actually there </p></blockquote><p>Nada.</p><blockquote><p> blank the display and freeze the machine until such time as you type in a password, or biometrically verify your identity through voice recognition. </p></blockquote><p>Nopity nopity nope.</p><p>"Ordovim", besides the fact that it does encryption, isn't even in the same galaxy as Ordoemacs.</p><p>So what was the takeaway here? Some of the things I learned at the end of this ordeal, which should be obvious to anyone with three quarters of a brain:</p><ul><li>Don't half ass things, because half asses multiply (I'm at sixteenth ass now).</li><li>Read the spec or you end up with "Ordovim".</li><li>Invest a little bit of time to learning how to use and improve your skills with your tools (even if you think they are 'stoopid').</li><li>Kiddie fences are nice, but you have to grow up sometime.</li></ul><p>Oh! And go read Neal Stephenson books.</p><hr/><p>You can find Ordovim <a href='https://github.com/dragsubil/Ordovim'>here</a>.</p>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/tags/books/">books</a>
    
    <a href="/tags/vim/">vim</a>
    
    <a href="/tags/python/">python</a>
    
</div>


    <div id="prev-next">
        
        <a href="/posts/2016-12-07-the-monster-sneaks-up/">&laquo; The monster that sneaks up on you</a>
        
        
        <a class="right" href="/posts/2016-12-01-useless-blog-01/">Useless Blog #1 &raquo;</a>
        
    </div>

    


</div>

            </div>
        </div>

        <div class="col-md-3">
            <div id="sidebar">
                
                <div id="recent">
                    <h3>Recent Posts</h3>
                    <ul>
                        
                        <li><a href="/posts/2016-12-19-books-read/">Books I&#39;ve read this past week</a></li>
                        
                        <li><a href="/posts/2016-12-10-botwhothanksbots/">Thanking the Reddit bots for their hard work</a></li>
                        
                        <li><a href="/posts/2016-12-07-the-monster-sneaks-up/">The monster that sneaks up on you</a></li>
                        
                    </ul>
                </div>
                
                
                <div id="tags">
                    <h3>Tags</h3>
                    <ul>
                        
                        <li><a href="/tags/books/">books</a></li>
                        
                        <li><a href="/tags/python/">python</a></li>
                        
                        <li><a href="/tags/praw/">praw</a></li>
                        
                        <li><a href="/tags/misc/">misc</a></li>
                        
                        <li><a href="/tags/vim/">vim</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>
    </div>
    <footer>Copyright &copy; 2016 dragsubil
        <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p>
	<img src="/img/whitesmall.png" width=20px height=20px /></footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
